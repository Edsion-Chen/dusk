<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8"/>
    <title>注册</title>
</head>
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/1.12.1/jquery.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

<!--<script src="../templates/bootstrap-3.3.7/css/bootstrap.css" type="text/css"></script>-->
<!--<script src="../templates/bootstrap-3.3.7/js/bootstrap.js" type="text/javascript"></script>-->
<!--<script src="../templates/bootstrap-3.3.7/js/bootstrap.min.js" type="text/javascript"></script>-->

<!--引用自定义样式 限制宽度-->
<link src="css/sign.css" rel="stylesheet" type="text/css">
<style type="text/css">
    body {
        padding-top: 40px;
        padding-bottom: 40px;
        background-color: #eee;
    }

    .form-signin {
        max-width: 330px;
        padding: 15px;
        margin: 0 auto;
    }
    .form-signin .form-signin-heading{
        margin-bottom: 10px;
    }

    .form-signin .form-control {
        position: relative;
        height: auto;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        padding: 10px;
        font-size: 16px;
    }
    .form-signin .form-control:focus {
        z-index: 2;
    }
    .form-signin input[type="text"] {
        margin-bottom: -1px;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }

    .form-signin input[type="password"] {
        margin-bottom: -1px;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }

</style>

<body>
    <div class="container" style="background-color: #eee;">
        <form class="form-signin">
            <h2 class="form-signin-heading">用户注册</h2>

            <label for="inputEmail" class="sr-only">用户名</label>
            <input type="text" id="inputEmail" class="form-control" placeholder="用户名" required="" autofocus="" >
            <br/>

            <!--<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required="" autofocus="">-->
            <label for="inputPassword" class="sr-only">密码</label>
            <input type="password" id="inputPassword" class="form-control" placeholder="密码" required="" onkeyup="validate()">
            <br/>

            <label for="inputPassword" class="sr-only">确认密码</label>
            <input type="password" id="inputRePassword" class="form-control" placeholder="确认密码密码" required="" onkeyup="validate()"><span id="tishi"></span>
            <br/>

            <label for="inputSex" class="sr-only">性别</label>
            <input type="text" id="inputSex" class="form-control" placeholder="性别" required="" autofocus="" >
            <br/>

            <label for="inputPhone" class="sr-only">手机号</label>
            <input type="text" id="inputPhone" class="form-control" placeholder="手机号" required="" autofocus="" >
            <br/>

            <label for="inputAddress" class="sr-only">地址</label>
            <input type="text" id="inputAddress" class="form-control" placeholder="地址" required="" autofocus="" >
            <br/>

            <label for="inputAge" class="sr-only">年龄</label>
            <input type="text" id="inputAge" class="form-control" placeholder="年龄" required="" autofocus="" >
            <br/>

            <label for="inputEmail" class="sr-only">类型</label>
            <div class="form-group">
                <a>请选择类型</a>
                <select class="selectpicker show-tick" title="请选择类型" data-live-search="true" data-size="5" id="inputType">
                    <option>A</option>
                    <option>B</option>
                    <option>C</option>
                    <option>D</option>
                </select>
            </div>

            <button class="btn btn-lg btn-primary btn-block" id="signup" onclick="signupCheck()" type="button">注册</button>

        </form>
    </div>
</body>
<script type="text/javascript">

    function validate() {
        var pwd1 = document.getElementById("inputPassword").value;
        var pwd2 = document.getElementById("inputRePassword").value;

        <!-- 对比两次输入的密码 -->
        if(pwd1 == pwd2)
        {
            document.getElementById("tishi").innerHTML="<font color='green'>两次密码相同</font>";
            document.getElementById("signup").disabled = false;
        }
        else {
            document.getElementById("tishi").innerHTML="<font color='red'>两次密码不相同</font>";
            document.getElementById("signup").disabled = true;
        }
    }

    function signupCheck() {
        var name = document.getElementById("inputEmail").value;
        var pwd = document.getElementById("inputPassword").value;
        var pwd1 = document.getElementById("inputRePassword").value;
        var sex = document.getElementById("inputSex").value;
        var phone = document.getElementById("inputPhone").value;
        var address = document.getElementById("inputAddress").value;
        var age = document.getElementById("inputAge").value;
        var type = $('#inputType option:selected').text();

        if(name == "" || name == null){
            alert("用户名不能为空");
            return;
        }

        if(pwd == "" || pwd == null){
            alert("密码不能为空");
            return;
        }

        if(pwd1 == "" || pwd1 == null){
            alert("请输入确认密码");
            return;
        }

        if(sex == "" || sex == null){
            alert("性别不能为空");
            return;
        }

        if(phone == "" || phone == null){
            alert("手机号不能为空");
            return;
        }

        if(address == "" || address == null){
            alert("地址不能为空");
            return;
        }

        if(age == "" || age == null){
            alert("年龄不能为空");
            return;
        }

        if(type == "" || type == null){
            alert("用户类型不能为空");
            return;
        }

        var data = "name="+name+"&pwd="+pwd+"&sex="+sex+"&phone="+phone+"&address="+address+"&age="+age+"&type="+type;

        $.ajax({
            dataType:"text",
            url:"/login/signup",
            data:data,
            success:function (code) {
                window.location.href="www.baidu.com";
            },
            error:function (XMLHttpResponse, textStatus, errorThrown) {
                alert("注册失败,检查输入信息是否正确");
                // console.log("1 异步调用返回失败,XMLHttpResponse.readyState:"+XMLHttpResponse.readyState);
                // console.log("2 异步调用返回失败,XMLHttpResponse.status:"+XMLHttpResponse.status);
                // console.log("3 异步调用返回失败,textStatus:"+textStatus);
                // console.log("4 异步调用返回失败,errorThrown:"+errorThrown);
            }
        })
    }
</script>
</html>
